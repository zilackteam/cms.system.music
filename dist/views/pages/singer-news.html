<p><md-button class="md-raised md-primary" ng-click="changeState('news-create', {contentId: $state.params.contentId})">New News</md-button></p>

<md-table-container>
    <table md-table>
        <thead md-head md-order="query.order">
            <tr md-row>
                <th md-column md-order-by="title">Title</th>
                <th md-column md-order-by="update_at">Last updated at</th>
                <th md-column >Actions</th>
            </tr>
        </thead>
        <tbody md-body>
            <tr md-row ng-repeat="news in result = newsList | orderBy: query.order | limitTo: query.limit : (query.page - 1) * query.limit"
                class="clickable"
                ng-click="changeState('news-update', {contentId: $state.params.contentId, newsId: news.id})"
            >
                <td md-cell>{{news.title}}</td>
                <!--<td md-cell>{{news.status}}</td>-->
                <td md-cell>{{news.updated_at | amDateFormat: 'DD-MM-YYYY HH:mm'}}</td>
                <td md-cell class="actions align-center">
                    <md-button
                        class="md-icon-button"
                        ng-click="changeState('news-update', {contentId: $state.params.contentId, newsId: news.id})"
                        stop-event="click"
                    >
                        <md-icon>edit</md-icon>
                    </md-button>
                </td>
            </tr>
        </tbody>
    </table>
</md-table-container>

<md-table-pagination md-limit="query.limit" md-page="query.page" md-total="{{result.length}}" md-page-select>></md-table-pagination>
